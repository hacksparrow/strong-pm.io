<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>StrongLoop Process Manager</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,300italic,400italic,500italic">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu+Mono">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-placeholder/2.0.7/jquery.placeholder.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/0.6.11/fastclick.min.js"></script>
    <script src="/js/prism.js"></script><script>$('input, textarea').placeholder();</script>
    <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"></script><![endif]-->
    <script src="/js/main.js"></script>
  </head>
  <body class="l-page-getting-started -getting-started-index js-body">
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5XL76H"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5XL76H');</script>
  <!-- End Google Tag Manager -->
    <div class="c-wrapper js-wrapper">
      <header class="c-masthead">
        <div class="c-container x-flex-v js-masthead-container">
          <a href="/" class="_logo x-flex-v">
            <h1 class="c-heading -h3">StrongLoop<br/> Process Manager</h1>
          </a>
          <nav class="_nav js-masthead-nav">
            <ul class="_nav-list js-nav-list">
              <li class="_nav-item"><a href="/">About</a></li>
              <li class="_nav-item -active"><a href="/getting-started">Getting started</a></li>
              <li class="_nav-item"><a href="/examples">Examples</a></li>
              <li class="_nav-item"><a href="/prod">Use in Production</a></li>
              <li class="_nav-item"><a href="/resources">Resources</a></li>
            </ul>
          </nav>
          <button class="_menu js-menu">
            <i class="fa fa-bars"></i>
            <span class="x-hide">Menu</span>
          </button>

        <!--  <iframe src="http://ghbtns.com/github-btn.html?user=strongloop&repo=strong-pm&type=watch" class="c-github-star js-github-star"></iframe>  -->

        </div>
      </header>
      <main class="c-content">
        <section class="c-section">
          <div class="c-container -padded">
            <h1 class="c-heading -h2">Getting started</h1>
            <p><b>Assuming you have already installed Node...</b></p>
          </div>
        </section>

        <section class="c-section x-greylight"><a name="local"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3">Install locally</h2>

            <div class="c-grid">
              <div class="_col -col-1-2">
            <p>Install StrongLoop on your local system: This installs the client tools (Arc and <span style="font-family: monospace;">slc</span>) and StrongLoop Process Manager
            for development and testing.  For more information, see <a href="http://docs.strongloop.com/display/SL">Installing StrongLoop</a>.
            </p>

            <p>
            </p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ npm install -g strongloop</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section ">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Start application locally</h2>

            <div class="c-grid">
              <div class="_col -col-1-3">
                <p>Get an app if you don't have one handy. </p>
                <p>Start Process Manager locally and deploy the app to it. </p>
                <p>Open <a href="http://localhost:3000">http://localhost:3000</a> to see the app home page.</p>
              </div>
              <div class="_col -col-2-3">
<pre><code class="language-bash">$ git clone https://github.com/strongloop/express-example-app.git
$ cd express-example-app
$ slc start
App `.` started under local process manager.
  View the status:  slc ctl status
  View the logs:    slc ctl log-dump
  More options:     slc ctl -h
</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Display app status </h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>Get a quick status overview with all worker PIDs, cluster IDs, other key information.</p>

               <!-- <p>NOTE: Default is PM control endpoint is <span style="font-family: monospace;">localhost:8701</span>,
                but it's given here to illustrate you could also specify a remote host.</p>  -->
              </div>
            </div><div class="c-grid">
              <div class="_col -col-1-1">
                <pre><code class="language-bash">$ slc ctl
manager:
  pid:                22642
  port:               8701
  base:               /Users/rand/.strong-pm
  config:             undefined
current:
  status:             started
  pid:                22669
  link:               /Users/rand/StrongLoop/express-example-app
  current:            826d11fe9a7f5b04e586.1426200263251
  branch:             npm-pack
  worker count:       4
    [1]:              cluster id 1, pid 22670
    [2]:              cluster id 2, pid 22671
    [3]:              cluster id 3, pid 22672
    [4]:              cluster id 4, pid 22673
  config:             default
    start command:    sl-run --cluster=CPU
    stop signal:      SIGTERM
    replace signal:   SIGHUP
</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section ">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Change cluster size  </h2>

            <div class="c-grid">
              <div class="_col -col-1-2">
            <p>By default the Process Manager runs one process per CPU.  So, on a four-core system
            it will run the app in a four-process cluster.  You can easily change the cluster size.</p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ slc ctl set-size 2</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Generate logs </h2>

            <div class="c-grid">
              <div class="_col -col-1-2">
                Dump the log buffer to stdout.
              </div>
              <div class="_col -col-1-2" style="margin-bottom: 10px;">
                <pre><code class="language-bash">$ slc ctl log-dump</code></pre>
              </div>

              <div class="_col -col-1-1">
                <pre><code class="language-markup" style="font-size: 85%">2015-03-13T23:37:19.265Z pid:36620 worker:0 INFO supervisor starting (pid 36620)
2015-03-13T23:37:19.265Z pid:36620 worker:0 INFO supervisor reporting metrics to `internal:`
2015-03-13T23:37:19.267Z pid:36620 worker:0 INFO supervisor size set to 4
2015-03-13T23:37:19.271Z pid:36620 worker:0 INFO supervisor listening on 'runctl'
2015-03-13T23:37:19.344Z pid:36620 worker:0 INFO supervisor started worker 1 (pid 36621)
2015-03-13T23:37:19.476Z pid:36620 worker:0 INFO supervisor started worker 2 (pid 36622)
2015-03-13T23:37:19.610Z pid:36620 worker:0 INFO supervisor started worker 3 (pid 36623)
2015-03-13T23:37:19.869Z pid:36620 worker:0 INFO supervisor started worker 4 (pid 36624)
2015-03-13T23:37:19.869Z pid:36620 worker:0 INFO supervisor resized to 4
2015-03-13T23:37:29.459Z pid:36621 worker:1 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:29.459Z pid:36621 worker:1 Web server listening at: http://localhost:3000/
2015-03-13T23:37:29.460Z pid:36622 worker:2 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:29.460Z pid:36622 worker:2 Web server listening at: http://localhost:3000/
2015-03-13T23:37:29.460Z pid:36624 worker:4 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:29.460Z pid:36624 worker:4 Web server listening at: http://localhost:3000/
2015-03-13T23:37:29.460Z pid:36623 worker:3 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:29.460Z pid:36623 worker:3 Web server listening at: http://localhost:3000/
2015-03-13T23:37:49.302Z pid:36620 worker:0 WARN received SIGHUP, restarting workers
2015-03-13T23:37:49.316Z pid:36620 worker:0 ERROR supervisor worker id 1 (pid 36621) expected exit with 2
2015-03-13T23:37:49.372Z pid:36620 worker:0 INFO supervisor started worker 5 (pid 36628)
2015-03-13T23:37:49.372Z pid:36620 worker:0 INFO supervisor resized to 4
2015-03-13T23:37:50.573Z pid:36628 worker:5 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:50.573Z pid:36628 worker:5 Web server listening at: http://localhost:3000/
2015-03-13T23:37:51.389Z pid:36620 worker:0 ERROR supervisor worker id 2 (pid 36622) expected exit with 2
2015-03-13T23:37:51.442Z pid:36620 worker:0 INFO supervisor started worker 6 (pid 36629)
2015-03-13T23:37:51.442Z pid:36620 worker:0 INFO supervisor resized to 4
2015-03-13T23:37:52.611Z pid:36629 worker:6 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:52.611Z pid:36629 worker:6 Web server listening at: http://localhost:3000/
2015-03-13T23:37:53.458Z pid:36620 worker:0 ERROR supervisor worker id 3 (pid 36623) expected exit with 2
2015-03-13T23:37:53.511Z pid:36620 worker:0 INFO supervisor started worker 7 (pid 36630)
2015-03-13T23:37:53.511Z pid:36620 worker:0 INFO supervisor resized to 4
2015-03-13T23:37:54.658Z pid:36630 worker:7 Browse your REST API at http://localhost:3000/explorer
2015-03-13T23:37:54.659Z pid:36630 worker:7 Web server listening at: http://localhost:3000/
2015-03-13T23:37:55.525Z pid:36620 worker:0 ERROR supervisor worker id 4 (pid 36624) expected exit with 2
2015-03-13T23:37:55.600Z pid:36620 worker:0 INFO supervisor started worker 8 (pid 36632)
2015-03-13T23:37:55.600Z pid:36620 worker:0 INFO supervisor resized to 4</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section ">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Update your environment with no downtime </h2>

            <div class="c-grid">
              <div class="_col -col-1-3">
                <p>Use the <span style="font-family: monospace;">env-set</span> command to change environment variables without bringing down the app</p>
              </div>
              <div class="_col -col-2-3">
                <pre><code class="language-bash">$ slc env-set NODE_ENV=production
Environment updated: Updated environment, restarting app </code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight"><a name="license"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Set up for profiling and viewing metrics  </h2>

            <div class="c-grid">
              <div class="_col -col-1-1" >
                <p class="note">NOTE: For profiling and metrics, you must have C compiler tools on the system running the app.
                These come standard on most Linux systems.  See <a href="http://docs.strongloop.com/display/SL/Installing+compiler+tools">Installing compiler tools</a>.</p>
                <p><i>Get new license flow here...</i></p>
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-2">

                <ol>
                  <li>Get a StrongLoop license key by emailing sales@strongloop.com</li>
                  <li>Add your license as shown at right.</li>
                  <li>Start Arc and log in.</li>
                </ol>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ slc license &lt;your-strongloop-key-string&gt;
$ slc arc</code></pre>
              </div>
            </div>

            <div class="c-grid" style="margin-top: 10px;">
              <div class="_col -col-2-3" >
                <img src="http://docs.strongloop.com/download/attachments/5308533/arc%20splash.png?version=1&modificationDate=1424798146000&api=v2" class="c-fleximg" />
              </div>
            </div>

          </div>
        </section>

        <section class="c-section ">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> View CPU and memory profiles </h2>

            <div class="c-grid">
              <div class="_col -col-3-4">
                <p><i>QUESTION: Should we use slc for local profiling and metrics?</i></p>
                <ol>
                  <li>Click <b>Profiler</b>.</li>
                  <li>Click <b>Load</b> to load.  You'll see the PIDs of the app processes; the first one is selected by default.</li>
                  <li>"JavaScript/Node.js CPU Profile" is selected by default:
                  <ul><li >Click <b>Start</b> to start CPU profiling the first worker process.</li>
                  <li style="margin-bottom: 10px;">Wait about five seconds then click <b>Stop</b>.</li>
                  </ul>  </li>
                  <li>Select "Heap Snapshot" and repeat the process</li>
                  <li>Each time you do this, the profile is added to the <b>Profiles</b> list on the left. Select each profile in the
                  list to view it; for example as shown below.</li>
                </ol>
              </div>
            </div>

            <div class="c-grid" style="margin-top: 10px;">
              <div class="_col -col-3-4">
                <img src="/images/arc profiler 1.1.png" class="c-fleximg"/>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight">
          <div class="c-container -padded">
            <h2 class="c-heading -h4"> Monitor app performance metrics with Arc </h2>

            <div class="c-grid ">
              <div class="_col -col-3-4">
                  <p>Click <b>Metrics</b> to view Metrics.</p>
                  <p>Arc will display the process IDs (PIDs) for the local app and select the first PID.
                  It will then display peformance metrics, including statistics on CPU use, event loop execution, and heap memory consumption.</p>
                  <p>For details on the available metrics,
                  see <a href="http://docs.strongloop.com/display/SLC/Viewing+metrics+with+Arc#ViewingmetricswithArc-Availablemetrics">Available metrics</a>.</p>
              </div>
            </div>
<br/>
            <div class="c-grid">
              <div class="_col -col-3-4">
                <img src="http://docs.strongloop.com/download/attachments/4557583/remote%20metrics.png?version=1&api=v2" class="c-fleximg"/>
              </div>
            </div>
          </div>
        </section>

      </main>
      <footer class="c-footer x-green">
        <div class="c-container -padded">
          <nav class="_nav">
            <ul class="_nav-list js-nav-list">
              <li class="_nav-item"><a href="/">About</a></li>
              <li class="_nav-item -active"><a href="/getting-started">Getting started</a></li>
              <li class="_nav-item"><a href="/examples">Examples</a></li>
              <li class="_nav-item"><a href="/resources">Resources</a></li>
              <!-- <li class="_nav-item"><a href="/users">Who's using?</a></li> -->

              <li class="_nav-item"><a href="https://github.com/strongloop/loopback">GitHub</a></li>
            </ul>
          </nav>
          <p class="_copyright">© Copyright 2015 StrongLoop, Inc.</p>
          <iframe src="http://ghbtns.com/github-btn.html?user=strongloop&amp;repo=loopback&amp;type=follow" class="c-github-follow"></iframe>
        </div>
      </footer>
    </div>
  </body>
</html>
